---
id: time-stretch2
title: 导出面板使用指南 — 时间伸缩
---

### 背景
用途举例：如果一个10秒的PAG视频贴纸动效，包含了前2秒入场动效 + 中间6秒过程动效 + 后2秒出场动效。而应用到视频的时候，目标视频可能不是10秒的，比如是20秒。为了让这10秒的PAG动效能匹配20秒的目标视频，如果只是将10秒拉伸为20秒，就会造成效果的慢放，而如果是重复播放，就会造成出场动效出现在不合适的时刻。而常见的一个需求是：前2秒入场动效正常播放，中间6秒过程动效拉伸成16秒播放，后面2秒出场动效正常播放。时间伸缩功能就是为了满足这个需求而设计的。 <br/>

时间伸缩功能支持设置的参数有：伸缩模式(stretchMode)、开始时间(startTime)、持续时间(duration)。 <br/>
1、伸缩模式(stretchMode)：当pag时长与目标播放时长不一致时，将按照伸缩模式扩充到匹配目标时长来播放。有4种伸缩模式可以设置： <br/>
  A、无：正常速度播放，播放结束以后，将定格在最后一帧。 <br/>
  B、伸缩：伸缩区域快放/慢放，匹配目标时长。 <br/>
  C、重复：正常速度播放，播放结束以后重复播放，如此循环。 <br/>
  D、重复(倒序): 正常速度播放，播放结束以后以倒序的方式重复播放，如此循环。 <br/>
当伸缩模式为“伸缩”时，下列两个时间参数有效： <br/>
2、开始时间(startTime)：在此时间之前的内容按正常速度播放. <br/>
3、持续时间(duration)：结束结束endTime = startTime + duration 。在结束时间之后的内容也按正常速度播放。 在开始时间和结束时间之间的内容为伸缩区域，伸缩区域通过缩放来匹配目标时长。<br/>


### 如何设置时间伸缩(TimeStretch)
#### 一、准备：确认版本 <br/>
1. 确保 PAGViewer 已经更新至 beta 版 2.1.81 或以上。 [<font color=blue>如何升级至beta版</font>](/docs/beta.html) <br/>

#### 二、设置时间伸缩：<br/>
2. 打开导出面板: “文件”菜单 -> “导出” -> "PAG Panel...". 如下图：<br/>
![导出面板入口](https://pag.qq.com/website/static/img/docs/export_panel_entrance.jpg)
<br/>
3. 在导出面板中点击“设置”下的按钮，如下图：<br/>
![时间伸缩](https://pag.qq.com/website/static/img/docs/export_panel_setting.jpg)
<br/>
4. 在设置面板中点击“时间伸缩”页，即可设置时间伸缩的相关参数，如下图：<br/>
![时间伸缩](https://pag.qq.com/website/static/img/docs/time-stretch-3.jpg)
<br/>
5. 点击“确定”结束设置。<br/>