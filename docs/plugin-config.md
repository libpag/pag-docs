---
id: plugin-config
title: 插件选项配置面板
---
## 背景
对于一些通用的、不常更改的一些导出选项，会放在插件选项配置面板进行配置

那些内容会放在插件选项配置面板中呢？

1、基础配置选项

   如导出插件版本选择、是否导出图层名称、是否导出文本字体等

2、素材清晰度相关

   主要包含两个方面内容：

   1）pag动画中图片素材的清晰度；

   2）pag动画中BMP预合成导出的清晰度

## 配置面板入口

"After Effects CC" -> "首选项" -> "PAG Config..." （如下图）
![](/img/docs/plugin_config1.png)

## 配置面板说明

### “通用”页。

可配置整个PAG文件相关的参数（如下图：）

![](/img/docs/plugin_config2.jpg)

1.导出版本控制：

可选择stable/beta/custom三项之一，其中：

stable：稳定版，表示导出稳定版本的PAG文件，这类PAG文件通常可以被线上已经发布的app支持。发布到线上的PAG常用此选项。

beta：最新版，表示导出最新版本的PAG文件，这类PAG文件可能无法被线上已经发布的app支持。测试PAG新特性时常用此选项。

custom：自定义导出为指定的SDK版本能支持的能力，需搭配TagLevel使用，具体TagLevel的值可以从指定版本SDK里的 PAGFile.MaxSupportedTagLevel() 获取。

2.TagLevel：

只有当导出版本控制选项取值为custom时，TAGLevel栏才有效，否则无法输入。

取值范围为44至1023.具体设置到什么值可以咨询客户端开发人员，通常根据线上客户端SDK所支持的最大TagLevel确定。

3.图像压缩质量：

用来控制动画中图片素材的压缩质量，取值范围（0-100），越高图片越清晰但是文件越大，默认80。

4.位图像素密度: 

用于控制动画中图片素材在文件中存储的最大像素密度。
当图片素材的尺寸大于图片图层所在预合成的尺寸时，会将图片素材的进行缩放到到需要的最佳分辨率。
如预合成尺寸为100*100，导出编码的时候图片素材的最大尺寸为100*100*位图像素密度，从而保证预合成的清晰度
如果图片素材尺寸本来就较小，将会导出原来尺寸

上述3和4影响的是动画文件中内置图片素材的清晰度


5.导出图层名字: 

是否导出图层名字。（若要导出图层名字，需要确保PAGViewer的版本不低于1.4.2，且“导出版本控制”项为beta。）
通常用于解决含有多个文本图层或多个占位图替换时素材对应问题。

6.导出字体:

如果动画中的文本渲染使用到了非常用字体，支持在导出动画文件的同时导出所使用的的文本字体

### “BMP预合成”页。

可配置BMP预合成导出方式的相关参数（如下图：）
![](/img/docs/plugin_config3.jpg)

1.BMP预合成后缀：

当某合成的名字后缀与该后缀相同时，该合成将优先导出为BMP预合成。默认“_bmp”，不区分大小写。

2.存储格式：

可选“视频序列帧”和“位图序列帧”两种导出的存储格式，视频存储格式会更小，在含有硬件解码的平台上性能也更好。位图存储格式文件更大，在只有软件解码的平台上或者非常小的尺寸时比视频解码略微更快。默认值是 "视频序列帧"。

3.图像压缩质量：

用来控制动画中图片素材的压缩质量，取值范围（0-100），越高图片越清晰但是文件越大，默认80。

4.导出尺寸上限：

用于控制导出BMP预合成的最大分辨率（短边）。过大可能会显著增加PAG文件尺寸；过小会影响播放的清晰度。默认720。

5.“关键帧间隔”：

用于控制导出BMP预合成的关键帧间距。取0表示只有第一帧为关键帧；其它正数表示关键帧间距，默认60。

关键帧间距影响播放seek时的解码效率。取值过小会增大导出的PAG文件尺寸。

6.“导出版本列表”：

导出BMP预合成时允许单个文件包含多个分辨率版本的截图序列，程序在实际使用时会动态使用最合适的分辨率以降低性能损耗。配置此列表能控制具体要导出哪些分辨率和帧率的截图序列版本，可以通过“增加版本”/“删除选中”来增减列表。

### 保存和取消配置

保存：点击最下方的“确定”按钮，即可保存所做的更改，配置将在导出文件时生效。

取消：点击最下方的“取消”按钮，即可取消所做更改，导出文件时仍使用最近一次保存的配置。





